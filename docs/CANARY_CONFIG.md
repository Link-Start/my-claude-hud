# é‡‘ä¸é›€æµ‹è¯•é…ç½®ç¤ºä¾‹

## é»˜è®¤é…ç½®ï¼ˆæ— éœ€é…ç½®å³å¯ä½¿ç”¨ï¼‰

å¦‚æœä½ ä¸é…ç½®ä»»ä½•é€‰é¡¹ï¼Œé‡‘ä¸é›€æµ‹è¯•ä¼šä½¿ç”¨ä»¥ä¸‹é»˜è®¤å€¼ï¼š

```json
{
  "canaryTest": {
    "enabled": true,           // å¯ç”¨é‡‘ä¸é›€æµ‹è¯•
    "autoCreate": false,       // ä¸è‡ªåŠ¨åˆ›å»ºé¡¹ç›®é‡‘ä¸é›€æ–‡ä»¶
    "useGlobal": true,         // ä½¿ç”¨å…¨å±€é‡‘ä¸é›€æ–‡ä»¶ï¼ˆæ¨èï¼‰
    "checkInterval": 10,       // æ¯10æ¬¡æ¸²æŸ“æ£€æŸ¥ä¸€æ¬¡
    "promptThreshold": 5,      // 5æ¬¡æ¸²æŸ“åæç¤ºåˆ›å»ºé‡‘ä¸é›€
    "showInCompact": false,    // ç´§å‡‘æ¨¡å¼ä¸æ˜¾ç¤º
    "showInExpanded": true     // å±•å¼€æ¨¡å¼æ˜¾ç¤º
  }
}
```

## é…ç½®ä½ç½®

é…ç½®æ–‡ä»¶å¯ä»¥æ”¾åœ¨ä»¥ä¸‹ä½ç½®ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š

1. é¡¹ç›®é…ç½®ï¼š`é¡¹ç›®æ ¹ç›®å½•/.claude-hud.json`
2. å…¨å±€é…ç½®ï¼š`~/.claude/plugins/my-claude-hud/config.json`

## é…ç½®é€‰é¡¹è¯´æ˜

### `enabled`ï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰

- ç±»å‹ï¼š`boolean`
- é»˜è®¤å€¼ï¼š`true`
- è¯´æ˜ï¼šæ˜¯å¦å¯ç”¨é‡‘ä¸é›€æµ‹è¯•åŠŸèƒ½

### `autoCreate`ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰

- ç±»å‹ï¼š`boolean`
- é»˜è®¤å€¼ï¼š`false`
- è¯´æ˜ï¼šæ˜¯å¦è‡ªåŠ¨åœ¨é¡¹ç›®ä¸­åˆ›å»ºé‡‘ä¸é›€æ–‡ä»¶
- æ¨èå€¼ï¼š`false`ï¼ˆæ¨èä½¿ç”¨å…¨å±€é‡‘ä¸é›€ï¼‰

### `useGlobal`ï¼ˆä½¿ç”¨å…¨å±€é‡‘ä¸é›€ï¼‰

- ç±»å‹ï¼š`boolean`
- é»˜è®¤å€¼ï¼š`true`
- è¯´æ˜ï¼šæ˜¯å¦ä½¿ç”¨å…¨å±€é‡‘ä¸é›€æ–‡ä»¶ï¼ˆ`~/.claude/canary.md`ï¼‰
- æ¨èå€¼ï¼š`true`ï¼ˆè¿™æ ·æ‰€æœ‰é¡¹ç›®éƒ½èƒ½è‡ªåŠ¨è·å¾—é‡‘ä¸é›€ä¿æŠ¤ï¼‰

### `checkInterval`ï¼ˆæ£€æŸ¥é—´éš”ï¼‰

- ç±»å‹ï¼š`number`
- é»˜è®¤å€¼ï¼š`10`
- è¯´æ˜ï¼šæ¯éš”å¤šå°‘æ¬¡æ¸²æŸ“æ£€æŸ¥ä¸€æ¬¡é‡‘ä¸é›€çŠ¶æ€
- æ¨èå€¼ï¼š`10`ï¼ˆå¹³è¡¡æ€§èƒ½å’Œå®æ—¶æ€§ï¼‰

### `promptThreshold`ï¼ˆæç¤ºé˜ˆå€¼ï¼‰

- ç±»å‹ï¼š`number`
- é»˜è®¤å€¼ï¼š`5`
- è¯´æ˜ï¼šåœ¨æ²¡æœ‰é‡‘ä¸é›€æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œç»è¿‡å¤šå°‘æ¬¡æ¸²æŸ“åæç¤ºåˆ›å»º
- æ¨èå€¼ï¼š`5`ï¼ˆé¿å…è¿‡äºé¢‘ç¹çš„æç¤ºï¼‰

### `showInCompact`ï¼ˆç´§å‡‘æ¨¡å¼æ˜¾ç¤ºï¼‰

- ç±»å‹ï¼š`boolean`
- é»˜è®¤å€¼ï¼š`false`
- è¯´æ˜ï¼šæ˜¯å¦åœ¨ç´§å‡‘å¸ƒå±€æ¨¡å¼ä¸‹æ˜¾ç¤ºé‡‘ä¸é›€çŠ¶æ€

### `showInExpanded`ï¼ˆå±•å¼€æ¨¡å¼æ˜¾ç¤ºï¼‰

- ç±»å‹ï¼š`boolean`
- é»˜è®¤å€¼ï¼š`true`
- è¯´æ˜ï¼šæ˜¯å¦åœ¨å±•å¼€å¸ƒå±€æ¨¡å¼ä¸‹æ˜¾ç¤ºé‡‘ä¸é›€çŠ¶æ€

## æ¨èé…ç½®

### ä½¿ç”¨å…¨å±€é‡‘ä¸é›€ï¼ˆæ¨èï¼‰

```json
{
  "canaryTest": {
    "enabled": true,
    "autoCreate": false,
    "useGlobal": true,
    "checkInterval": 10,
    "promptThreshold": 5
  }
}
```

**ä¼˜ç‚¹**ï¼š
- æ‰€æœ‰é¡¹ç›®è‡ªåŠ¨è·å¾—é‡‘ä¸é›€ä¿æŠ¤
- æ— éœ€åœ¨æ¯ä¸ªé¡¹ç›®ä¸­åˆ›å»ºé‡‘ä¸é›€æ–‡ä»¶
- ç®¡ç†ç®€å•ï¼Œåªéœ€ä¸€ä¸ªå…¨å±€é‡‘ä¸é›€æ–‡ä»¶

**ä½¿ç”¨æ–¹æ³•**ï¼š
1. è¿è¡Œ `node dist/index.js --action=canary-init-global` åˆå§‹åŒ–å…¨å±€é‡‘ä¸é›€
2. æ‰€æœ‰é¡¹ç›®è‡ªåŠ¨ä½¿ç”¨å…¨å±€é‡‘ä¸é›€

### è‡ªåŠ¨åˆ›å»ºé¡¹ç›®é‡‘ä¸é›€

```json
{
  "canaryTest": {
    "enabled": true,
    "autoCreate": true,
    "useGlobal": false,
    "checkInterval": 10,
    "promptThreshold": 5
  }
}
```

**ä¼˜ç‚¹**ï¼š
- æ¯ä¸ªé¡¹ç›®æœ‰ç‹¬ç«‹çš„é‡‘ä¸é›€æ–‡ä»¶
- æ›´ç²¾ç¡®åœ°æ£€æµ‹æ¯ä¸ªé¡¹ç›®çš„ä¸Šä¸‹æ–‡çŠ¶æ€

**ç¼ºç‚¹**ï¼š
- æ¯ä¸ªé¡¹ç›®éƒ½éœ€è¦å•ç‹¬åˆ›å»ºé‡‘ä¸é›€æ–‡ä»¶
- ç®¡ç†ç›¸å¯¹å¤æ‚

### ç¦ç”¨é‡‘ä¸é›€æµ‹è¯•

```json
{
  "canaryTest": {
    "enabled": false
  }
}
```

## å®Œæ•´é…ç½®ç¤ºä¾‹

```json
{
  "lineLayout": "expanded",
  "canaryTest": {
    "enabled": true,
    "autoCreate": false,
    "useGlobal": true,
    "checkInterval": 10,
    "promptThreshold": 5,
    "showInCompact": false,
    "showInExpanded": true
  },
  "display": {
    "showModel": true,
    "showContextBar": true,
    "showTools": true,
    "showAgents": true,
    "showTodos": true
  },
  "theme": {
    "colorTheme": "default"
  }
}
```

## å¿«é€Ÿå¼€å§‹

1. **åˆå§‹åŒ–å…¨å±€é‡‘ä¸é›€**ï¼ˆæ¨èï¼‰ï¼š
   ```bash
   node dist/index.js --action=canary-init-global
   ```

2. **æŸ¥çœ‹é‡‘ä¸é›€çŠ¶æ€**ï¼š
   ```bash
   node dist/index.js --action=canary-check
   ```

3. **åˆ›å»ºé¡¹ç›®é‡‘ä¸é›€**ï¼ˆå¯é€‰ï¼‰ï¼š
   ```bash
   node dist/index.js --action=canary-create
   ```

4. **æ¸…é™¤é¡¹ç›®é‡‘ä¸é›€**ï¼š
   ```bash
   node dist/index.js --action=canary-clear
   ```

## HUD æ˜¾ç¤ºè¯´æ˜

### å…¨å±€é‡‘ä¸é›€æ´»è·ƒ
```
Canary: ğŸ¤ æ´»è·ƒ å…¨å±€(ajc86e...) <1m
```

### é¡¹ç›®é‡‘ä¸é›€æ´»è·ƒ
```
Canary: ğŸ¤ æ´»è·ƒ (edgxas...) <1m
```

### é‡‘ä¸é›€ä¸¢å¤±
```
Canary: âš ï¸ ä¸¢å¤± (edgxas...) <1m ä¸Šä¸‹æ–‡å·²ä¸¢å¤±
```

### å»ºè®®åˆ›å»ºé‡‘ä¸é›€
```
Canary: ğŸ’¡ å»ºè®®æ·»åŠ é‡‘ä¸é›€æµ‹è¯• è¿è¡Œ --action=canary-create åˆ›å»º
```
